# delete-episode

删除重复种子工具 - 查找Transmission中同时存在合集和分集的种子并暂停分集

## 功能

这个工具可以帮助您：

1. 连接到Transmission服务器（支持自定义连接参数）
2. 筛选名称以ADWeb或HHWEB结尾的种子
3. 精确查找同时存在合集和分集的种子，基于以下条件：
   - 合集和分集种子名称相同
   - 合集和分集种子大小不同（合集通常较大）
   - 合集的文件列表包含分集的文件列表（通过文件名比对）
   - 智能识别剧集标识(如S01E01)，避免误判不同剧集为分集
4. 显示找到的合集和对应分集的详细信息
5. 只暂停分集，保留所有合集
6. 特殊情况处理：大小与合集相同的分集不会被暂停操作，仅显示信息

## 使用方法

1. 编译程序：
   ```
   go build -o delete-episode
   ```

2. 运行程序：
   ```
   ./delete-episode
   ```

3. 按照提示输入Transmission服务器的连接参数：
   - 服务器地址（默认: 127.0.0.1）
   - 端口（默认: 9091）
   - 是否使用HTTPS（默认: n）
   - 用户名（默认为空）
   - 密码（默认为空）

4. 确认连接参数后，程序会：
   - 首先查找所有名称以ADWeb或HHWEB结尾的种子
   - 筛选出名称相同但大小不同的种子组（跳过大小相同的种子组）
   - 分析这些种子组，确定哪些是合集和分集的关系（通过检查文件列表是否重叠）
   - 检查文件中的剧集标识(如S01E01, S01E02)，避免误判不同剧集
   - 同时标识出大小与合集相同的分集（这些只会显示信息，不会被暂停）
   - 显示找到的合集和对应分集信息，包括文件列表预览
   
5. 根据提示输入y/n决定是否暂停找到的分集种子（所有合集都不会被暂停）

## 注意事项

1. 程序只处理名称以ADWeb或HHWEB结尾的种子
2. 程序会跳过以下种子：
   - 单个种子（没有同名的其他种子）
   - 同组中所有种子大小相同的种子组（允许1KB误差）
   - 没有找到分集的种子
   - 含有不同剧集标识的种子（如一个包含S01E01，另一个包含S01E02）
   - 大小与合集相同的分集不会被暂停操作，仅显示信息
3. 程序使用以下策略判断合集和分集：
   - 同名种子中，体积最大的为合集
   - 智能分析文件名中的剧集标识，避免误将不同剧集当作合集和分集
   - 如果分集的文件名在合集中能找到50%以上匹配，则认为是有效的合集-分集关系
   - 当分集的大小与合集相同时，视为特殊情况，不进行暂停操作
4. **所有合集都不会被暂停，只暂停分集**
5. 如果连接失败，请检查您的连接参数是否正确

## 适用场景

1. 当您下载了同一内容的合集和分集，想要只保留合集时
2. 当多个来源（站点）的种子存在同名合集，保留所有合集但暂停分集
3. 避免重复下载占用空间，但保留不同来源的合集以保证做种
4. 自动识别剧集号，避免误暂停不同剧集的种子（如S01E01和S01E02）

